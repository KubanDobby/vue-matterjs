# üéÆ –ì–∞–π–¥ –¥–ª—è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## –ù–∞—á–∞–ª–æ –†–∞–±–æ—Ç—ã

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
npm run dev
```
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5174

### 2. –ß—Ç–æ –≤—ã –≤–∏–¥–∏—Ç–µ?
- –°–∏–Ω–∏–π –∫—Ä—É–≥ (–∏–≥—Ä–æ–∫) –≤ —Ü–µ–Ω—Ç—Ä–µ
- –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ä–æ–º–± (–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ (FPS, Entity Count, Direction)

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **WASD** –∏–ª–∏ **–°—Ç—Ä–µ–ª–∫–∏** - –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
- –ò–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Ç–æ–ª–∫–Ω—É—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ

---

## –ü–µ—Ä–≤—ã–µ –®–∞–≥–∏

### –ó–∞–¥–∞—á–∞ 1: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/components/GamePhysics.vue` –≤ –º–µ—Ç–æ–¥–µ `onMounted`:

```typescript
onMounted(() => {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...

  // –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è wallBody:
  const secondWall = Matter.Bodies.rectangle(
    8 * TILE_W,      // X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ –ø–ª–∏—Ç–∫–∞—Ö
    5 * TILE_H,      // Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –≤ –ø–ª–∏—Ç–∫–∞—Ö
    TILE_W * 2,      // –®–∏—Ä–∏–Ω–∞ (2 –ø–ª–∏—Ç–∫–∏)
    TILE_H,          // –í—ã—Å–æ—Ç–∞ (1 –ø–ª–∏—Ç–∫–∞)
    { isStatic: true }
  )
  addEntity(secondWall, 'obstacle')
  if (world.value) {
    Matter.World.add(world.value, secondWall)
  }
})
```

### –ó–∞–¥–∞—á–∞ 2: –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è

–í —Ñ—É–Ω–∫—Ü–∏–∏ `render()` –Ω–∞–π–¥–∏—Ç–µ –∫–æ–¥ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è:

```typescript
if (entity.type === 'obstacle') {
  ctx.fillStyle = '#7a4a24'  // ‚Üê –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ü–≤–µ—Ç
  // ...
}
```

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `'#FF6B6B'` (–∫—Ä–∞—Å–Ω—ã–π) –∏–ª–∏ `'#4ECDC4'` (–≥–æ–ª—É–±–æ–π)

### –ó–∞–¥–∞—á–∞ 3: –°–¥–µ–ª–∞—Ç—å –∏–≥—Ä–æ–∫–∞ –±—ã—Å—Ç—Ä–µ–µ

–ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É:
```typescript
const PLAYER_SPEED = 5  // ‚Üê –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 10
```

### –ó–∞–¥–∞—á–∞ 4: –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–∞–≥–∞ (–¥–≤–∏–∂—É—â–µ–µ—Å—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ)

```typescript
// –í onMounted –ø–æ—Å–ª–µ wallBody:
const enemy = Matter.Bodies.circle(
  12 * TILE_W,  // X
  8 * TILE_H,   // Y
  15            // –†–∞–¥–∏—É—Å
)
addEntity(enemy, 'enemy')
if (world.value) {
  Matter.World.add(world.value, enemy)
}
```

–ó–∞—Ç–µ–º –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `render()` –¥–æ–±–∞–≤—å—Ç–µ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –≤—Ä–∞–≥–∞:

```typescript
if (entity.type === 'enemy') {
  ctx.fillStyle = '#FF1744'  // –ö—Ä–∞—Å–Ω—ã–π –≤—Ä–∞–≥
  ctx.beginPath()
  ctx.arc(screenPos.x, screenPos.y, 15, 0, Math.PI * 2)
  ctx.fill()
}
```

---

## –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç

### –¢—Ä–∏ —Å–∏—Å—Ç–µ–º—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

1. **Grid Coordinates** (–°–µ—Ç–∫–∞)
   - 0-1000 (–≤ –ø–ª–∏—Ç–∫–∞—Ö)
   - –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—ã–µ

2. **World Coordinates** (–ú–∏—Ä —Ñ–∏–∑–∏–∫–∏)
   - –ü–∏–∫—Å–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Matter.js
   - WorldX = GridX √ó TILE_W (64)
   - WorldY = GridY √ó TILE_H (32)

3. **Screen Coordinates** (–≠–∫—Ä–∞–Ω)
   - –ü–∏–∫—Å–µ–ª–∏ –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–µ
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é —Ñ–æ—Ä–º—É–ª—É

### –ü—Ä–∏–º–µ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:

```typescript
// –Ø —Ö–æ—á—É –ø–æ–º–µ—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞ —Å–µ—Ç–∫—É (5, 3)
const gridX = 5
const gridY = 3

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∏—Ä —Ñ–∏–∑–∏–∫–∏
const worldX = gridX * TILE_W  // 320
const worldY = gridY * TILE_H  // 96

// –°–æ–∑–¥–∞—Ç—å —Ç–µ–ª–æ
const body = Matter.Bodies.circle(worldX, worldY, 20)

// –ü—Ä–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —ç–∫—Ä–∞–Ω
const screenPos = iso.worldToScreen(body.position.x, body.position.y)
ctx.arc(screenPos.x, screenPos.y, 20, 0, Math.PI * 2)
```

---

## –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### ‚ùå –û–±—ä–µ–∫—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–Ω–µ —Å–ª–∏—à–∫–æ–º –ª–∏ –æ–Ω–∏ –¥–∞–ª–µ–∫–æ?)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ `Matter.World.add(world.value, body)`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `addEntity()` –≤—ã–∑–≤–∞–Ω

### ‚ùå –û–±—ä–µ–∫—Ç –ø–∞–¥–∞–µ—Ç –∑–∞ —ç–∫—Ä–∞–Ω
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è, –≤—Å–µ –û–ö
- –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞, –æ—Ç–∫–ª—é—á–∏—Ç–µ:
  ```typescript
  const { setGravity } = useGamePhysics()
  setGravity(0, 0)
  ```

### ‚ùå –ò–≥—Ä–æ–∫ —Å–∫–æ–ª—å–∑–∏—Ç, –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- –£–≤–µ–ª–∏—á—å—Ç–µ friction (—Ç—Ä–µ–Ω–∏–µ):
  ```typescript
  Matter.Bodies.circle(x, y, 20, {
    friction: 0.5,      // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.01
    restitution: 0.2    // –ú–µ–Ω–µ–µ —É–ø—Ä—É–≥–∏–π
  })
  ```

### ‚ùå TypeScript –æ—à–∏–±–∫–∏
```bash
npm run type-check
```
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ GamePhysics.vue          ‚Üê –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å game loop
‚îú‚îÄ‚îÄ composables/
‚îÇ   ‚îú‚îÄ‚îÄ useGamePhysics.ts        ‚Üê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Matter.js
‚îÇ   ‚îú‚îÄ‚îÄ useIsometricProjection.ts ‚Üê –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ useGameInput.ts          ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à
‚îÇ   ‚îî‚îÄ‚îÄ useSceneManager.ts       ‚Üê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ index.vue                ‚Üê –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ App.vue                      ‚Üê –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ main.ts                      ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ style.css                    ‚Üê –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
```

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–∞–≥–∞ —Å AI** - –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –¥–≤–∏–∂–µ–Ω–∏—è
2. **–î–æ–±–∞–≤—å—Ç–µ –∑–≤—É–∫** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Web Audio API
3. **–°–æ–∑–¥–∞–π—Ç–µ UI** - –º–µ–Ω—é, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ** - –¥–æ–±–∞–≤—å—Ç–µ culling –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∏—Ä–æ–≤
5. **–ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –¥–æ–±–∞–≤—å—Ç–µ touch controls

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
npm run type-check

# Production build
npm run build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä build –≤–µ—Ä—Å–∏–∏
npm run preview

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (—É–∂–µ –µ—Å—Ç—å)
npm run dev
```

---

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üöÄ
